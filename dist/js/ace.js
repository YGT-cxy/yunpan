webpackJsonp([3],{1:function(e,t){},22:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(23),a=(s.n(n),s(1)),o=(s.n(a),s(0)),i=s.n(o);i()(function(){function e(e){i.a.ajax({url:"http://kcloud.vowcloud.cn/api/v1/file/write",data:{type:"file",name:a.name,path:a.path,content:e},success:function(e){e.size&&n("保存成功!")}})}function t(e){i.a.ajax({url:"http://kcloud.vowcloud.cn/api/v1/file/read",data:{type:"file",name:a.name,path:a.path},success:function(t){(t.content||""===t.content)&&e(t)}})}function s(t){o=ace.edit("editor"),o.setTheme("ace/theme/monokai"),o.getSession().setMode("ace/mode/"+a.type),o.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),o.setHighlightActiveLine(!0),o.commands.addCommand({name:"myCommand",bindKey:{win:"Ctrl-X",mac:"Command-X"},exec:function(e){e.removeLines(e.selection.getCursor().row)},readOnly:!0}),o.commands.addCommand({name:"myCommand",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:function(t){e(t.getValue())},readOnly:!0}),o.session.setTabSize(4),o.session.setUseWrapMode(!0),o.setValue(t)}function n(e){i()("body").append('<div class="loading">'+e+"</div>"),setTimeout(function(){i()(".loading").remove()},1e3)}var a={},o=null;i.a.ajaxSetup({beforeSend:function(e){e.setRequestHeader("token",localStorage.getItem("token"))},type:"POST"}),function(){for(var e=decodeURI(location.search).slice(1).split("&"),n=0,o=e.length;n<o;n++){var i=e[n].split("=");a[i[0]]=i[1]}t(function(e){console.log(e),s(e.content)})}(),i()("#tools").on("click","i",function(){var s=i()(this).attr("data-operation");switch(i()(".select").hide(),s){case"font":i()(".select-font").show();break;case"theme":i()(".select-theme").show();break;case"set":i()(".select-set").show();break;case"undo":o.undo();break;case"redo":o.redo();break;case"refresh":t(function(e){o.setValue(e.content)});break;case"save":e(o.getValue());break;default:console.log("没有定义方法!")}}),i()("#editor").on("click",function(){i()(".select").hide()}),i()(".select-font").on("click","li",function(){var e=i()(this);e.addClass("select-active").siblings().removeClass("select-active"),i()("#editor").css("font-size",e.attr("title"))}),i()(".select-theme").on("click","li",function(){var e=i()(this);e.addClass("select-active").siblings().removeClass("select-active"),o.setTheme("ace/theme/"+e.attr("title"))}),i()(".select-set").on("click",'li[title="blank"]',function(){var e=i()(this);e.hasClass("select-active")?(o.setOptions({showInvisibles:!1}),e.removeClass("select-active")):(o.setOptions({showInvisibles:!0}),e.addClass("select-active"))}),i()(".select-set").on("click",'li[title="line_feed"]',function(){var e=i()(this);e.hasClass("select-active")?(o.session.setUseWrapMode(!1),e.removeClass("select-active")):(o.session.setUseWrapMode(!0),e.addClass("select-active"))}),i()("#browser").on("click",function(){var e=a.path,t=e.split("/").slice(1),s="http://"+JSON.parse(localStorage.getItem("user")).domain;t.length&&(s+="/"+t.join("/")),window.open(s+"/"+a.name,"_blank")})})},23:function(e,t){}},[22]);